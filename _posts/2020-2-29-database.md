---
layout: post
title: 数据库概述
categories: database
description: 数据库术语及概述
keywords: database
---

DBMS能够实现如下功能：

DDL(Data Definition Language)数据库维护与控制，例如：创建表、视图等等。

DML(Data Definition Language)数据库存储与查询，例如：增删改等操作

DCL(Data Definition Language)数据库事务处理，又叫数据控制语言

## E-R图

E-R图主要包含**实体类型**、**联系**和**属性**

主要有三种关系模式：

1.一对多

2.一对一

3.多对多

在多对多的关系中，关系也作为实体，也有自己的基本属性，即该关系也有自己的关系模式。该关系两端的实体的主码都为该关系的主码。

在一对多与多对多的关系中，多的一端的关系模式都要将对方的主键作为自己的外键。对于多实体的情况同理。

### E-R图对应的关系模式

关系模式的写法通常为：

`实体名(主键、基本属性2、基本属性3……外键)`

其中主键与外键都需要标明

## 数据库系统概述

#### 一、基本概念

- 数据管理是指对数据进行分类、组织、编码、存储、检索和维护等操作。
- 数据库技术是研究数据管理的技术。即如何妥善地保存和科学地管理数据。
- 数据库管理技术好坏评判的标准：

> 1. 是否数据冗余：指同一数据多次存放。问题在于：浪费空间、修改不便、引起不一致等等。
> 2. 能否数据共享：多个应用可使用同一数据(文件、记录、数据项)、多个用户可同时存同一数据
> 3. 数据的独立性如何：指应用程序和数据之间相互独立。
> 4. 数据统一集中管理

#### DB、DBMS、DBS

##### 数据库(DB):

长期存储在计算机内，有组织的，可共享的大量数据的集合。

##### 数据库管理系统(DBMS)：

- 位于用户与操作系统之间的一层数据管理软件，是基础软件，是一个大型负复杂的软件系统。
- 由相互关联的数据集合遗迹一组用于访问这些数据的程序组成。
- 主要目标是为人们提供方便高效的环境来存储检索目录。

##### 数据库系统(DBS)：

在计算机系统中引入数据库后的系统构成。

**数据库系统**由DB、DBMS及其开发工具、DBA和应用系统构成。

##### DB、DBMS、DBS关系

- DB从定义上说是若干个相互之间有关联关系的表的集合，是一个宏观概念。
- DBMS是为了实现管理数据库功能而设计的一种系统软件，经常与操作系统结合起来，属于系统软件。
- DBS是一个工作环境层次的系统，以数据库作为数据基础，以计算机基本系统作为硬件基础，提供数据库应用程序供用户使用的数据库，属于应用软件。

------

##### DBMS的工作模式

![](\images\posts\202002291.png)

1. 应用程序A向DBMS发出数据库中读数据记录的命令；
2. DBMS对该命令进行语法检查、语义检查11，并调用应用程序A对应的子模式，检查A的存取权限，决定是否执行该命令。如果拒绝执行，则向用户返回错误信息；
3. 在决定执行该命令后，DBMS调用模式，根据子模式/模式映像的定义，确定应读入模式中的哪些记录；
4. DBMS调用物理模式，依据模式/物理模式映像的定义，决定应从哪个文件、用什么存取方式、读入哪个或哪些物理记录；
5. DBMS向操作系统发出执行读取所需的物理记录的命令；
6. 操作系统执行读数据的有关操作；
7. 同
8. DBMS依据子模式/模式映像的定义，导出应用程序A所要读取的记录格式；
9. DBMS将数据记录从系统缓冲区传送到应用程序A的用户工作区；
10. DBMS向应用程序A返回命令执行情况的状态信息。

### 数据模型

数据模型是表示数据及其联系的模型。是对像是世界数据关系、特征的抽象。

##### 分类

主要分为**概念模型(信息模型)**与**数据模型(结构数据模型)**

- 概念模型通常从用户角度对数据建模，用于DB设计。
- 数据模型通常从计算机角度对数据建模，用于DBMS设计。

##### 候选码、主码、外码

若关系中的某一属性组的值能唯一地标识一个元组，称该属性组为候选码。而主码则是从候选码中挑取一个来做主码。如果某一关系中的一个属性是另一个关系中的主码，则这个属性为外码。

##### 结构约束

结构约束：用一对整数(min，max)表示实体参与联系的最小和最大次数，用以度量实体参与联系的程度即实体参与度。

##### 数据模型的三要素

1. 数据结构(描述系统的静态特性)
   1. 数据库对象类型
      - 与数据类型、内容、性质有关的对象；
      - 与数据之间联系有关的对象。
   2. 数据之间的联系：隐式和显式。
2. 数据操作
   - 指数据库各种对象允许进行操作的集合，包括操作语言及有关操作规则的含义。
3. 数据的完整性约束
   - 是对数据及其关系的制约规则的集合。

### 数据库体系结构

数据库系统的三级模式结构是指数据库系统是由外模式、模式(概率模式)和内模式三级构成。

------

##### 外模式

外模式也称**子模式或用户模式**，它是数据库用户(包括应用程序员和最终用户)看见和使用的局部数据的逻辑节后和特征的描述，**是数据库用户的数据视图**，是某一应用有关的数据点逻辑表示。

1. 一个数据库可以有多个外模式
2. 外模式就是用户视图：外模式是保证数据安全性的一个有力措施。

例如，读者的图书信息查询、编目人员的图书数目登记、采访人员的图书采购订单等。

------

##### 概念模式

概念模式是数据库中**全体数据的逻辑结构**和特征的描述。数据库模式以某一种数据模型为基础。定义模式时不仅要定义数据的逻辑结构(例如数据记录由哪些数据项构成，数据项的名字、类型、取值范围等)，而且要定义与数据有关的安全性、完整性要求，定义这些数据之间的联系。

例如:书目、借阅表、读者表等全局数据的结构描述和相应的关联约束。

------

##### 内模式

内模式也称**存储模式**，它是数据物理结构和存储结构的描述，是数据在数据库内部的表示方式(例如：记录的存储方式是顺序存储、按照B+树结构存储还是按hash方法存储；索引按照上面方式组织；数据是否压缩存储，是否加密；数据的存储记录结构有何规定)。

*一个数据库只有一个内模式*。对于内模式的修改不影响概念模式，从而保证了数据的**物理独立性**。

------

- 数据库中只有一个模式，也只有一个内模式，所以模式/内模式映像是唯一的，他定义了数据全局逻辑结构与存储结构之间的对应联系。
- 当数据库的存储结构改变了，由数据库管理员对模式/内模式映像作相应改变，可以使模式保持不变，从而保证了**数据的物理独立性**。
- 当模式改变时，由数据库管理员对各个外模式/模式的映像作相应改变，可以使外模式保持不变，从而应用程序不必修改，保证了**数据的逻辑独立性**。